# 《攻城掠地》桌游项目 - 生产环境配置
# 请根据实际环境修改以下配置

# ===== 基础配置 =====
NODE_ENV=production
PORT=8000
HOST=0.0.0.0

# ===== 应用配置 =====
APP_NAME=siege-board-game
APP_VERSION=1.0.0
APP_URL=https://yourdomain.com

# ===== 安全配置 =====
# 会话密钥 (请使用 openssl rand -base64 32 生成)
SESSION_SECRET=your-session-secret-here

# CORS配置
CORS_ORIGIN=https://yourdomain.com
CORS_CREDENTIALS=true

# 安全头部配置
HELMET_ENABLED=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===== 日志配置 =====
LOG_LEVEL=info
LOG_DIR=/var/log/siege-game
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# ===== 性能配置 =====
# 静态文件缓存时间 (秒)
STATIC_CACHE_MAX_AGE=86400

# 压缩配置
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# 文件上传限制
MAX_FILE_SIZE=10mb
MAX_FILES=10

# ===== 监控配置 =====
# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# 指标收集
METRICS_ENABLED=true
METRICS_PATH=/metrics

# ===== 数据库配置 (如需要) =====
# DATABASE_URL=postgresql://username:password@localhost:5432/siege_game
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10
# DATABASE_TIMEOUT=30000

# ===== Redis配置 (如需要) =====
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ===== 邮件配置 (如需要) =====
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# ===== 文件存储配置 =====
# 本地存储路径
UPLOAD_DIR=/var/www/siege-game/uploads
STATIC_DIR=/var/www/siege-game/public

# ===== 第三方服务配置 =====
# Google Analytics (如需要)
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# Sentry错误监控 (如需要)
# SENTRY_DSN=https://your-sentry-dsn

# ===== SSL/TLS配置 =====
# 强制HTTPS
FORCE_HTTPS=true
HTTPS_PORT=443

# SSL证书路径 (如使用自签名证书)
# SSL_CERT_PATH=/etc/ssl/certs/siege-game.crt
# SSL_KEY_PATH=/etc/ssl/private/siege-game.key

# ===== 备份配置 =====
BACKUP_ENABLED=true
BACKUP_DIR=/var/backups/siege-game
BACKUP_RETENTION_DAYS=30

# ===== 开发工具配置 =====
# 在生产环境中禁用
DEBUG=false
DEVELOPMENT_MODE=false

# API文档 (生产环境建议禁用)
API_DOCS_ENABLED=false

# ===== 系统配置 =====
# 时区设置
TZ=Asia/Shanghai

# 语言设置
LANG=zh_CN.UTF-8

# ===== 进程配置 =====
# PM2集群模式实例数 (0表示使用所有CPU核心)
PM2_INSTANCES=0

# 内存限制 (MB)
PM2_MAX_MEMORY=512

# 重启延迟 (毫秒)
PM2_RESTART_DELAY=1000

# ===== 网络配置 =====
# 请求超时时间 (毫秒)
REQUEST_TIMEOUT=30000

# Keep-Alive超时时间 (毫秒)
KEEP_ALIVE_TIMEOUT=5000

# 头部超时时间 (毫秒)
HEADERS_TIMEOUT=60000

# ===== 缓存配置 =====
# 启用缓存
CACHE_ENABLED=true

# 缓存类型 (memory, redis, file)
CACHE_TYPE=memory

# 缓存TTL (秒)
CACHE_TTL=3600

# ===== 特性开关 =====
# WordPress插件支持
WORDPRESS_PLUGIN_ENABLED=true

# 游戏规则API
GAME_RULES_API_ENABLED=true

# 用户统计
USER_ANALYTICS_ENABLED=true

# ===== 维护模式 =====
# 维护模式开关
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=系统维护中，请稍后访问

# ===== 自定义配置 =====
# 游戏相关配置
MAX_PLAYERS=6
GAME_TIMEOUT=3600000
BOARD_SIZE=10

# 文件服务配置
SERVE_STATIC_FILES=true
STATIC_URL_PREFIX=/static

# API配置
API_PREFIX=/api
API_VERSION=v1

# ===== 注意事项 =====
# 1. 请确保所有密钥和密码都是安全的
# 2. 生产环境中不要使用默认值
# 3. 定期更新密钥和证书
# 4. 监控日志文件大小，避免磁盘空间不足
# 5. 备份重要配置文件